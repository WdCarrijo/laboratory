<f:view xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pm="http://primefaces.org/mobile"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/template/main_mobile.xhtml" contentType="text/html"
	renderKitId="PRIMEFACES_MOBILE">
	<pm:page title="Edição de estacionamento">
	<!-- Main View -->
		<pm:view id="main">
			<pm:header title="Edição de estacionamento" swatch="b">
				<f:facet name="left">
					<p:button style="width:10; height:30; border:1px solid #000;" 
						value="#{messages['button.back']}" icon="back"
						href="#{estacionamentoEditMB.previousView}"/>
				</f:facet>
				<f:facet name="right">
					<p:button value="#{messages['main.app.title']}" icon="home"
								 href="./navigator.jsf"/>
				 </f:facet>
			</pm:header>
			<pm:content>
				<h:form>
					<pm:buttonGroup orientation="horizontal" >
						<h:commandButton value="#{messages['button.save']}"
							action="#{estacionamentoEditMB.update}" icon="check"
							iconPosition="center" />
						<h:commandButton value="#{messages['button.delete']}"
							action="#{estacionamentoEditMB.delete}"
							rendered="#{estacionamentoEditMB.updateMode}" icon="delete"
							iconPosition="center" />
					</pm:buttonGroup>
					<h:outputLabel value="#{messages['estacionamento.label.id']}: " for="id" styleClass="text-input" />
					<h:outputText id="id" value="#{estacionamentoEditMB.bean.id}" />
					<h:message for="id" />
					<h:outputLabel value="#{messages['estacionamento.label.nome']}: " for="nome" styleClass="text-input" />
					<h:inputText id="nome" value="#{estacionamentoEditMB.bean.nome}"
						title="#{messages['estacionamento.alt.nome']}" />
					<h:message for="nome" />
					<h:outputLabel value="#{messages['estacionamento.label.cnpj']}: " for="cnpj" styleClass="text-input" />
					<h:inputText id="cnpj" value="#{estacionamentoEditMB.bean.cnpj}"
						title="#{messages['estacionamento.alt.cnpj']}" />
					<p:message for="cnpj" />
					<h:outputLabel value="#{messages['estacionamento.label.inscricaoEstadual']}: " for="inscricaoEstadual" styleClass="text-input" />
					<h:inputText id="inscricaoEstadual" value="#{estacionamentoEditMB.bean.inscricaoEstadual}"
						title="#{messages['estacionamento.alt.inscricaoEstadual']}" />
					<h:message for="inscricaoEstadual" />
					
					<p:panel header="#{messages['patio.label']}" toggleable="true" toggleSpeed="500">	 
						<h:panelGrid id="fieldspatio" columns="1">
						<p:outputPanel>
						<p:commandButton value="#{messages['button.new']}" action="#{estacionamentoEditMB.addPatio}" update="listPatio"/>
							<p:dataTable id="listPatio" var="patio" value="#{estacionamentoEditMB.patios}" rowIndexVar="index">
								<f:attribute name="columnToggle" value="true" />					
								<p:column>
							 		<h:outputLabel value="#{messages['patio.label.id']}: " for="id" styleClass="text-input" />
						   			<h:outputText id="id" value="#{patio.id}" />
						   			<h:message for="id" />
						 		</p:column>
								<p:column>
							 		<h:outputLabel value="#{messages['patio.label.local']}: " for="local" styleClass="text-input" />
						   			<h:inputText id="local" value="#{patio.local}"	title="#{messages['patio.alt.local']}" />
						   		<h:message for="local" />
						 		</p:column>
								<p:column>
							 		<h:outputLabel value="#{messages['patio.label.cep']}: " for="cep" styleClass="text-input" />
						   			<h:inputText id="cep" value="#{patio.cep}"  title="#{messages['patio.alt.cep']}" />
						   			<h:message for="cep" />
						 		</p:column>
					   			<p:column>
						   			<f:facet name="header">#{messages['label.action']}</f:facet>
						   			<h:commandButton value="#{messages['button.delete']}" action="#{estacionamentoEditMB.deletePatio}"/>
					   			</p:column>
							</p:dataTable>
						</p:outputPanel>
						</h:panelGrid>
					</p:panel>														
					</h:form>
				</pm:content>
			</pm:view>
		</pm:page>	
</f:view>